{% from "govuk/components/button/macro.njk" import govukButton %}

<!-- Show non-JS version of the pagination controls if Javascript is not available -->
<noscript>
  <style>#pagination-panel {display: none} </style>

  <div id="pagination-panel-nojs" class="app-pagination">
    <div class="govuk-form-group">
      <label class="govuk-label" for="pagination-panel-page">Page</label>
      <input type="text" id="pagination-panel-page" name="page" value="{{ params.page }}" />
    </div>

    <div>
      {{ govukButton({
        text: "Go to page"
      }) }}
    </div>
  </div>
</noscript>

<div id="pagination-panel" class="app-pagination">
  {% if params.previousPage %}
    <div id="pagination-previous" class="app-pagination__item">
      <a class="app-pagination__link" 
        onclick="document.querySelector('#page').value = parseInt(document.querySelector('#page').value) - 1;
                document.querySelector('#permit-details-form').submit()">
        <span class="govuk-!-padding-right-2">
          <svg id="pagination-previous-icon" xmlns="http://www.w3.org/2000/svg" height="13" width="17" viewBox="0 0 17 13">
            <path d="m6.5938-0.0078125-6.7266 6.7266 6.7441 6.4062 1.377-1.449-4.1856-3.9768h12.896v-2h-12.984l4.2931-4.293-1.414-1.414z"></path>
          </svg>
        </span>
        <div>
          <div 
            id="pagination-previous-page-label" 
            class="govuk-!-font-weight-bold">Previous page</div>
          <div 
            id="pagination-previous-page-counter-label" 
            class="govuk-body-s app-pagination__page-counter govuk-!-margin-bottom-2">{{ params.previousPage }} of {{ params.pageCount }}</div>
        </div>
      </a>
    </div>
  {% endif %}
  
  {% if params.showPaginationSeparator %}
    <hr class="app-separator" id="pagination-separator" />
  {% endif %}

  {% if params.nextPage %}
    <div id="pagination-next" class="app-pagination__item">
      <a class="app-pagination__link" 
        onclick="document.querySelector('#page').value = parseInt(document.querySelector('#page').value) + 1;
                document.querySelector('#permit-details-form').submit()">
        <span class="govuk-!-padding-right-2">
          <svg id="pagination-next-icon" xmlns="http://www.w3.org/2000/svg" height="13" width="17" viewBox="0 0 17 13">
            <path d="m10.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"></path>
          </svg>
        </span>
        <div>
          <div 
            id="pagination-next-page-label" 
            class="govuk-!-font-weight-bold">Next page</div>
          <div 
            id="pagination-next-page-counter-label" 
            class="govuk-body-s app-pagination__page-counter govuk-!-margin-bottom-2">{{ params.nextPage }} of {{ params.pageCount }}</div>
        </div>
      </a>
    </div>
  {% endif %}

  <input type="hidden" id="page" name="page" value="{{ params.page }}" />
</div>
